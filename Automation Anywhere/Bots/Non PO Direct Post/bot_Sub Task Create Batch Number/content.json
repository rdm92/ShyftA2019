{"triggers":[],"nodes":[{"uid":"750249a5-d14e-4e6a-a924-60fc55dfd384","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"36600f11-8e2d-4d10-87c9-53f39dba4a4a","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderAuditLog$/$vFileNameAuditLog$"}},{"name":"logContent","value":{"type":"STRING","string":"Create Batch Number - Started"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"e44679d3-3520-4cc7-a2b6-3b9467b37cfe","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","packageName":"System","variableName":"Date"}},{"name":"selectPattern","value":{"type":"STRING","string":"PREBUILT"}},{"name":"preBuiltPattern","value":{"type":"STRING","string":"BASIC_ISO_DATE"}}],"returnTo":{"type":"VARIABLE","variableName":"vCurrentDate"}},{"uid":"74ab680a-3bd8-4e72-8a0d-a495c70f7746","commandName":"replace","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vCurrentDate$"}},{"name":"find","value":{"type":"STRING","string":"Z"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"count","value":{"type":"NUMBER","number":"-1"}},{"name":"replaceWith","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"vCurrentDate"}},{"uid":"2a24cd78-51ca-4479-a4ab-9ac81501d2bc","commandName":"subString","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vCurrentDate$"}},{"name":"startIndex","value":{"type":"NUMBER","number":"3"}},{"name":"subStringLength","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vYear"}},{"uid":"72f8b708-1821-4d86-b832-62f426570927","commandName":"subString","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vCurrentDate$"}},{"name":"startIndex","value":{"type":"NUMBER","number":"5"}},{"name":"subStringLength","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vMonth"}},{"uid":"52d024bb-889a-430b-b56f-029d5011cca1","commandName":"subString","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vCurrentDate$"}},{"name":"startIndex","value":{"type":"NUMBER","number":"7"}},{"name":"subStringLength","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vDay"}},{"uid":"19a4adce-bc37-443b-a3c5-313191975eea","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vMonth$$vDay$$vYear$"}}],"returnTo":{"type":"VARIABLE","variableName":"vBatchDate"}},{"uid":"a5fab7e9-72dd-453c-874d-fcc978e0063c","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"c35de9ec-f0a1-4d63-96bb-9320569d06a5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIncrNumber"}},{"uid":"bf7f73b7-36e8-445a-8d89-517cdcfb3426","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vMonth$$vDay$$vYear$$vIncrNumber$"}}],"returnTo":{"type":"VARIABLE","variableName":"vBatchNumber"}}],"branches":[{"uid":"f300fb8d-c348-43fc-9410-6129e32fd047","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"75af94fc-7bc0-4a25-9a7a-651a91316138","commandName":"OpenCSVTXT","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"Default"}},{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderBatchNumbering$/BatchNumber_$vMonth$$vDay$$vYear$.txt"}},{"name":"containsHeader","value":{"type":"BOOLEAN","boolean":false}},{"name":"delimeter","value":{"type":"STRING","string":"comma"}},{"name":"trimLeadingSpace","value":{"type":"BOOLEAN","boolean":false}},{"name":"trimTrailingSpace","value":{"type":"BOOLEAN","boolean":false}},{"name":"encoding","value":{"type":"STRING","string":"UTF-8"}}]},{"uid":"a4b147ff-107f-436f-9146-986535682297","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"0337c3a0-a6df-4400-afc2-2d344424c3e5","commandName":"toNumber","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vPreviousNumber[0]$"}}],"returnTo":{"type":"VARIABLE","variableName":"vPrevNum"}},{"uid":"9d25fd3a-d171-48cb-9c72-03899317c5bb","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"vPreviousNumber"},"attributes":[{"name":"session","value":{"type":"STRING","string":"Default"}}],"value":{"type":"ITERATOR","iteratorName":"iterators.csvtxt","packageName":"CsvTxt"}}]},{"uid":"897373ce-6d0b-40f2-972e-be779941e8da","commandName":"CloseCsvTxt","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"string":"Default","type":"STRING"}}]},{"uid":"f5a5419a-e34c-4b19-86f6-1bbc0694c90a","commandName":"increment","packageName":"Number","disabled":false,"attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$vPrevNum$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIncrementedNumber"}},{"uid":"d8d11580-446b-41c1-8dc8-035c582a0b6a","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"5bf4be72-f75b-4180-91e6-eebb137ffb0c","commandName":"assign","packageName":"Boolean","disabled":false,"attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"vSubTaskErrorFlag"}},{"uid":"ee969b87-dc7a-4635-bcdf-9ac31ed99b96","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderErrorLog$/$vFileNameErrorLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"Lenth of the batch number is 8 and Aurora only accept batch number with 7 digits. Current Batch number is $vMonth$$vDay$$vYear$$vIncrNumber$."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"2609bdfd-bd8c-40b8-be33-c8ea0f6bb879","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderAuditLog$/$vFileNameAuditLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"Lenth of the batch number is 8 and Aurora only accept batch number with 7 digits. Current Batch number is $vMonth$$vDay$$vYear$$vIncrNumber$."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"58a666a2-2f50-4748-aee3-ecb09fe74609","commandName":"stopTask","packageName":"TaskBot","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$vIncrementedNumber$"}},{"name":"operator","value":{"type":"STRING","string":"GTE"}},{"name":"value","value":{"type":"NUMBER","number":"10"}}],"value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"e9acd577-3699-4554-a4aa-1814ffabf6ef","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$vIncrementedNumber$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"vIncrNumber"}},{"uid":"982bf4fa-19ef-4d80-8b71-df3c3d9c750f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vMonth$$vDay$$vYear$$vIncrNumber$"}}],"returnTo":{"type":"VARIABLE","variableName":"vBatchNumber"}}]}],"attributes":[{"name":"condition","attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$vFolderBatchNumbering$/BatchNumber_$vMonth$$vDay$$vYear$.txt"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"fileNotExists","packageName":"File"}}]},{"uid":"12a7c550-0a18-4043-8cc1-59b5617d8bc3","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderAuditLog$/$vFileNameAuditLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"Batch number is $vBatchNumber$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"d0a39676-b0ca-4b6a-89c7-0064bc2103bb","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderAuditLog$/$vFileNameAuditLog$"}},{"name":"logContent","value":{"type":"STRING","string":"Create Batch Number - Ended"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"branches":[{"uid":"ccb154e6-51de-4ee5-895c-230cb6e64446","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"64eb0717-0315-49bf-8494-0a9887ba0f5b","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$vErrorLineNumber$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"vErrorLineString"}},{"uid":"0406bd71-6298-4338-a009-434409a483f8","commandName":"assign","packageName":"Boolean","disabled":false,"attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"vSubTaskErrorFlag"}},{"uid":"6d6a8813-caeb-4858-8eaf-3b1933dc6b82","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vFolderErrorLog$/$vFileNameErrorLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"Bot Error Message: $vErrorDescription$ at line $vErrorLineString$ in $System:AATaskName$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"vErrorDescription"},"errorLineNumber":{"type":"VARIABLE","variableName":"vErrorLineNumber"}}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"vCurrentDate","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"vYear","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vMonth","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vDay","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vBatchNumber","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"vFolderBatchNumbering","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vPreviousNumber","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"vPrevNum","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"vIncrementedNumber","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"vIncrNumber","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vErrorDescription","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"vErrorLineNumber","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"vErrorLineString","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"vSubTaskErrorFlag","description":"","type":"BOOLEAN","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"BOOLEAN","boolean":false}},{"name":"vFolderAuditLog","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vFileNameAuditLog","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vFileNameErrorLog","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vFolderErrorLog","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vBatchDate","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}}],"breakpoints":[],"packages":[{"name":"Boolean","version":"2.0.0-20200721-221936"},{"name":"CsvTxt","version":"2.0.0-20200726-052504"},{"name":"Datetime","version":"2.0.0-20200721-221958"},{"name":"ErrorHandler","version":"2.0.0-20200721-222009"},{"name":"File","version":"2.1.0-20200721-222011"},{"name":"If","version":"2.0.0-20200721-222021"},{"name":"LogToFile","version":"2.1.0-20200721-222212"},{"name":"Loop","version":"2.0.0-20200721-222213"},{"name":"Number","version":"2.0.0-20200721-222224"},{"name":"String","version":"3.0.0-20200721-222454"},{"name":"System","version":"2.0.0-20200721-222454"},{"name":"TaskBot","version":"2.0.1-20200728-235256"}],"workItemTemplateName":null}